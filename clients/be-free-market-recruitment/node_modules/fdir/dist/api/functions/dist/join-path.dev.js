"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.joinPathWithBasePath = joinPathWithBasePath;
exports.joinDirectoryPath = joinDirectoryPath;
exports.build = build;

var path_1 = require("path");

var utils_1 = require("../../utils");

function joinPathWithBasePath(filename, directoryPath) {
  return directoryPath + filename;
}

function joinPathWithRelativePath(root, options) {
  return function (filename, directoryPath) {
    var sameRoot = directoryPath.startsWith(root);
    if (sameRoot) return directoryPath.replace(root, "") + filename;else return (0, utils_1.convertSlashes)((0, path_1.relative)(root, directoryPath), options.pathSeparator) + options.pathSeparator + filename;
  };
}

function joinPath(filename) {
  return filename;
}

function joinDirectoryPath(filename, directoryPath, separator) {
  return directoryPath + filename + separator;
}

function build(root, options) {
  var relativePaths = options.relativePaths,
      includeBasePath = options.includeBasePath;
  return relativePaths && root ? joinPathWithRelativePath(root, options) : includeBasePath ? joinPathWithBasePath : joinPath;
}